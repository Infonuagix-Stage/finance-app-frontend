{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mariya Zolovska\\\\OneDrive\\\\Desktop\\\\finance-app-frontend\\\\src\\\\components\\\\pages\\\\ProjectPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ProjectForm from \"../features/Project/ProjectForm\";\nimport ProjectUpdateForm from \"../features/Project/ProjectUpdateForm\";\nimport ProjectCard from \"../features/Project/ProjectCard\";\nimport Confirmation from \"../Confirmation\";\nimport { useProjects } from \"../../hooks/useProjects\";\nimport { calculateMonthlyContribution } from \"../../utils/projectCalculations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectPage = () => {\n  _s();\n  const {\n    projects,\n    loading,\n    createProject,\n    updateProject,\n    deleteProject,\n    currentProject,\n    setCurrentProject\n  } = useProjects();\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [projectToDelete, setProjectToDelete] = useState(null);\n  const handleCreateProject = async projectData => {\n    const monthlyContribution = calculateMonthlyContribution(projectData.targetAmount, projectData.savedAmount, projectData.deadline);\n    await createProject({\n      ...projectData,\n      monthlyContribution\n    });\n  };\n  const handleUpdateProject = async updatedData => {\n    const monthlyContribution = calculateMonthlyContribution(updatedData.targetAmount, updatedData.savedAmount, updatedData.deadline);\n    await updateProject(currentProject.projectId, {\n      ...updatedData,\n      monthlyContribution\n    });\n    setCurrentProject(null);\n  };\n  const handleDeleteClick = projectId => {\n    setProjectToDelete(projectId);\n    setIsDeleteModalOpen(true);\n  };\n  const handleConfirmDelete = async () => {\n    await deleteProject(projectToDelete);\n    setIsDeleteModalOpen(false);\n    setProjectToDelete(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-5xl font-extrabold text-center mb-16 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent\",\n        children: \"Mes Projets Financiers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-20\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-pulse flex justify-center items-center h-32\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 rounded-full border-4 border-gray-600 border-t-teal-500 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ProjectForm, {\n          onCreate: handleCreateProject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold bg-gradient-to-r from-gray-200 to-gray-400 bg-clip-text text-transparent\",\n          children: \"Projets en cours\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), projects.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-12 border-2 border-dashed border-gray-700 rounded-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 text-lg\",\n            children: \"Aucun projet ajout\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n          children: projects.map(project => /*#__PURE__*/_jsxDEV(ProjectCard, {\n            project: project,\n            onEdit: () => setCurrentProject(project),\n            onDelete: () => handleDeleteClick(project.projectId)\n          }, project.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), currentProject && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-900 p-6 rounded-lg w-full max-w-lg relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentProject(null),\n            className: \"absolute top-2 right-2 text-gray-300 hover:text-white\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProjectUpdateForm, {\n            initialProject: currentProject,\n            onUpdate: handleUpdateProject,\n            onCancel: () => setCurrentProject(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Confirmation, {\n        isOpen: isDeleteModalOpen,\n        title: \"Confirmation de suppression\",\n        message: \"Voulez-vous vraiment supprimer ce projet ?\",\n        onConfirm: handleConfirmDelete,\n        onCancel: () => {\n          setIsDeleteModalOpen(false);\n          setProjectToDelete(null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectPage, \"TvSCx+PibvAQcbX5dlLYSFU2+0c=\", false, function () {\n  return [useProjects];\n});\n_c = ProjectPage;\nexport default ProjectPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectPage\");","map":{"version":3,"names":["React","useState","ProjectForm","ProjectUpdateForm","ProjectCard","Confirmation","useProjects","calculateMonthlyContribution","jsxDEV","_jsxDEV","ProjectPage","_s","projects","loading","createProject","updateProject","deleteProject","currentProject","setCurrentProject","isDeleteModalOpen","setIsDeleteModalOpen","projectToDelete","setProjectToDelete","handleCreateProject","projectData","monthlyContribution","targetAmount","savedAmount","deadline","handleUpdateProject","updatedData","projectId","handleDeleteClick","handleConfirmDelete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onCreate","length","map","project","onEdit","onDelete","id","onClick","initialProject","onUpdate","onCancel","isOpen","title","message","onConfirm","_c","$RefreshReg$"],"sources":["C:/Users/Mariya Zolovska/OneDrive/Desktop/finance-app-frontend/src/components/pages/ProjectPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ProjectForm from \"../features/Project/ProjectForm\";\r\nimport ProjectUpdateForm from \"../features/Project/ProjectUpdateForm\";\r\nimport ProjectCard from \"../features/Project/ProjectCard\";\r\nimport Confirmation from \"../Confirmation\";\r\nimport { useProjects } from \"../../hooks/useProjects\";\r\nimport { calculateMonthlyContribution } from \"../../utils/projectCalculations\";\r\n\r\nconst ProjectPage = () => {\r\n  const {\r\n    projects,\r\n    loading,\r\n    createProject,\r\n    updateProject,\r\n    deleteProject,\r\n    currentProject,\r\n    setCurrentProject,\r\n  } = useProjects();\r\n\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [projectToDelete, setProjectToDelete] = useState(null);\r\n\r\n  const handleCreateProject = async (projectData) => {\r\n    const monthlyContribution = calculateMonthlyContribution(\r\n      projectData.targetAmount,\r\n      projectData.savedAmount,\r\n      projectData.deadline\r\n    );\r\n\r\n    await createProject({\r\n      ...projectData,\r\n      monthlyContribution,\r\n    });\r\n  };\r\n\r\n  const handleUpdateProject = async (updatedData) => {\r\n    const monthlyContribution = calculateMonthlyContribution(\r\n      updatedData.targetAmount,\r\n      updatedData.savedAmount,\r\n      updatedData.deadline\r\n    );\r\n\r\n    await updateProject(currentProject.projectId, {\r\n      ...updatedData,\r\n      monthlyContribution,\r\n    });\r\n\r\n    setCurrentProject(null);\r\n  };\r\n\r\n  const handleDeleteClick = (projectId) => {\r\n    setProjectToDelete(projectId);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    await deleteProject(projectToDelete);\r\n    setIsDeleteModalOpen(false);\r\n    setProjectToDelete(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <h1 className=\"text-5xl font-extrabold text-center mb-16 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent\">\r\n          Mes Projets Financiers\r\n        </h1>\r\n\r\n        {/* Project Creation Section */}\r\n        <div className=\"mb-20\">\r\n          {loading ? (\r\n            <div className=\"animate-pulse flex justify-center items-center h-32\">\r\n              <div className=\"w-12 h-12 rounded-full border-4 border-gray-600 border-t-teal-500 animate-spin\"></div>\r\n            </div>\r\n          ) : (\r\n            <ProjectForm onCreate={handleCreateProject} />\r\n          )}\r\n        </div>\r\n\r\n        {/* Projects List */}\r\n        <div className=\"space-y-8\">\r\n          <h2 className=\"text-3xl font-bold bg-gradient-to-r from-gray-200 to-gray-400 bg-clip-text text-transparent\">\r\n            Projets en cours\r\n          </h2>\r\n\r\n          {projects.length === 0 ? (\r\n            <div className=\"text-center p-12 border-2 border-dashed border-gray-700 rounded-xl\">\r\n              <p className=\"text-gray-400 text-lg\">Aucun projet ajouté</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {projects.map((project) => (\r\n                <ProjectCard\r\n                  key={project.id}\r\n                  project={project}\r\n                  onEdit={() => setCurrentProject(project)}\r\n                  onDelete={() => handleDeleteClick(project.projectId)}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Project Update Modal */}\r\n        {currentProject && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\">\r\n            <div className=\"bg-gray-900 p-6 rounded-lg w-full max-w-lg relative\">\r\n              <button\r\n                onClick={() => setCurrentProject(null)}\r\n                className=\"absolute top-2 right-2 text-gray-300 hover:text-white\"\r\n              >\r\n                ✕\r\n              </button>\r\n              <ProjectUpdateForm\r\n                initialProject={currentProject}\r\n                onUpdate={handleUpdateProject}\r\n                onCancel={() => setCurrentProject(null)}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Confirmation Modal for Delete */}\r\n        <Confirmation\r\n          isOpen={isDeleteModalOpen}\r\n          title=\"Confirmation de suppression\"\r\n          message=\"Voulez-vous vraiment supprimer ce projet ?\"\r\n          onConfirm={handleConfirmDelete}\r\n          onCancel={() => {\r\n            setIsDeleteModalOpen(false);\r\n            setProjectToDelete(null);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}